---
title: Configuration
---

When running `rollipop` from the command line, Rollipop will automatically try to resolve a config file named `rollipop.config.ts` inside project root (other JS and TS extensions are also supported).

The most basic config file looks like this:

```ts title="rollipop.config.ts"
import { defineConfig } from 'rollipop';

export default defineConfig({
  // ...
});
```

## root

- **Type:** `string`
- **Default:** `process.cwd()`

Project root directory. All relative paths in the configuration will be resolved from this directory.

## entry

- **Type:** `string`
- **Default:** `'index.js'`

The entry point file for your application.

```ts
export default defineConfig({
  entry: 'index.js',
});
```

## resolver

Module resolution configuration.

<Callout>
`resolver` option is extends Rolldown's [`InputOptions['resolve']`](https://github.com/rolldown/rolldown/blob/v1.0.0-beta.57/packages/rolldown/src/binding.d.cts#L1905).
</Callout>

### resolver.sourceExtensions

- **Type:** `string[]`
- **Default:** `['ts', 'tsx', 'js', 'jsx', 'mjs', 'cjs', 'json']`

File extensions to resolve as source files.

### resolver.assetExtensions

- **Type:** `string[]`
- **Default:** `['bmp', 'gif', 'jpg', 'jpeg', 'png', 'webp', 'avif', 'ico', 'icns', 'icxl']`

File extensions to resolve as asset files.

### resolver.mainFields

- **Type:** `string[]`
- **Default:** `['react-native', 'module', 'main']`

Fields to check in package.json when resolving packages.

### resolver.conditionNames

- **Type:** `string[]`
- **Default:** `['react-native', 'import', 'require']`

Condition names for exports field resolution in package.json.

### resolver.preferNativePlatform

- **Type:** `boolean`
- **Default:** `true`

If `true`, resolver will resolve platform-specific files with `.native` suffix.

For example:
- **true**: `index.android.js` → `index.native.js` → `index.js`
- **false**: `index.android.js` → `index.js`

### resolver.symlinks

- **Type:** `boolean`
- **Default:** `true`

Whether to resolve symlinks to their symlinked location.

## transformer

Source code transformation configuration.

<Callout>
`transformer` option is extends Rolldown's [`TransformOptions`](https://github.com/rolldown/rolldown/blob/v1.0.0-beta.57/packages/rolldown/src/binding.d.cts#L1171).
</Callout>

### transformer.svg

- **Type:** `boolean`
- **Default:** `true`

Transform SVG asset files to React components using `@svgr/core`.

See [SVG Support](/docs/features/svg) for more details.

### transformer.flow

Flow type syntax transformation configuration.

`flow.filter`

- **Type:** `HookFilter | TopLevelFilterExpression[]`
- **Default:** `{ id: /\.jsx?$/, code: /@flow/ }`

Filter for Flow transformation pipeline. Uses Rolldown's [hook filter feature](https://rolldown.rs/apis/plugin-hook-filters) to determine which files should be processed.

See [Flow Support](/docs/features/flow) for more details.

## serializer

Output serialization configuration.

### serializer.prelude

- **Type:** `string[]`
- **Default:** `['react-native/Libraries/Core/InitializeCore']`

Paths to prelude files that are imported at the top of the entry module.

By default, Rollipop includes React Native's `InitializeCore` module, which sets up the initial JavaScript environment. This module is essential for React Native applications to function properly.

```ts
export default defineConfig({
  serializer: {
    prelude: ['./src/setup.js'],
  },
});
```

**Note:** If you override this option, make sure to include the default prelude if your app relies on React Native's initialization:

```ts
export default defineConfig({
  serializer: {
    prelude: ['./src/custom-setup.js'],
  },
});
```

### serializer.polyfills

- **Type:** `Polyfill[]`
- **Default:** Polyfills from `react-native/rn-get-polyfills`

Polyfills to include in the output bundle. Polyfills are injected at the top of the output bundle.

By default, Rollipop includes all polyfills provided by React Native's `rn-get-polyfills` module. These polyfills are automatically processed to remove Flow type annotations and wrapped in IIFE (Immediately Invoked Function Expression) format.

```ts
export default defineConfig({
  serializer: {
    polyfills: [
      // String path
      './polyfills/console.js',
      // With code
      {
        type: 'iife',
        code: '(function() { /* polyfill code */ })()',
      },
      // With path
      {
        type: 'plain',
        path: './polyfills/promise.js',
      },
    ],
  },
});
```

**Polyfill Types:**

- `'iife'`: Wraps the polyfill code in an IIFE `(function() { ... })()`
- `'plain'`: Injects the polyfill code as-is without wrapping

**Polyfill Formats:**

You can specify polyfills in three ways:

1. **String path**: Simple file path
   ```ts
   polyfills: ['./polyfills/custom.js']
   ```

2. **Object with code**: Inline polyfill code
   ```ts
   polyfills: [
     {
       type: 'iife',
       code: 'console.log("Polyfill loaded");',
     },
   ]
   ```

3. **Object with path**: File path with explicit type
   ```ts
   polyfills: [
     {
       type: 'plain',
       path: './polyfills/global.js',
     },
   ]
   ```

## watcher

File watcher configuration for development mode.

<Callout>
`watcher` option is extends Rolldown's [`DevWatchOptions`](https://github.com/rolldown/rolldown/blob/v1.0.0-beta.57/packages/rolldown/src/binding.d.cts#L1718).
</Callout>

### watcher.skipWrite

- **Type:** `boolean`
- **Default:** `true`

Skip writing output files during watch mode.

### watcher.useDebounce

- **Type:** `boolean`
- **Default:** `true`

Use debouncing for file change events.

### watcher.debounceDuration

- **Type:** `number`
- **Default:** `50`

Debounce duration in milliseconds.

## reactNative

React Native specific configuration.

### reactNative.codegen

React Native Codegen configuration.

`reactNative.codegen.filter`

- **Type:** `HookFilter | TopLevelFilterExpression[]`
- **Default:** `{ code: /\bcodegenNativeComponent</ }`

Filter for codegen transformation pipeline. Only files matching this filter will be processed for React Native Codegen.

```ts
export default defineConfig({
  reactNative: {
    codegen: {
      filter: {
        // Process files containing `codegenNativeComponent<`
        code: /\bcodegenNativeComponent</,
      },
    },
  },
});
```

You can customize to match additional patterns:

```ts
export default defineConfig({
  reactNative: {
    codegen: {
      filter: {
        // Match files with codegen functions
        code: /(codegenNativeComponent|TurboModuleRegistry\.get)/,
      },
    },
  },
});
```

### reactNative.assetRegistryPath

- **Type:** `string`
- **Default:** `'react-native/Libraries/Image/AssetRegistry.js'`

Path to the asset registry module.

## plugins

- **Type:** `Plugin[]`

Array of Rollipop plugins. See [Plugin API](/docs/apis/plugin) for more details.

```ts
import myPlugin from 'rollipop-plugin-example';

export default defineConfig({
  plugins: [myPlugin()],
});
```

## terminal

Terminal output configuration.

### terminal.status

- **Type:** `'compat' | 'progress'`
- **Default:** `isTTY ? 'progress' : 'compat'`

Terminal status display mode:
- `'progress'`: Interactive progress display (when TTY is available)
- `'compat'`: Compatible mode for non-TTY environments

## reporter

- **Type:** `Reporter`
- **Default:** `TerminalReporter`

Custom reporter for build events. Implement the `Reporter` interface to create custom reporters.

See [Reporter](/docs/features/reporter) for more details.
